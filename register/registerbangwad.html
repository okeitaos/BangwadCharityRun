<!doctypehtml><html lang=th><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ß‡∏¥‡πà‡∏á | 4LAPTOP100 Registration</title><style>body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#0f172a,#1e293b,#0f172a);color:#fff;margin:0;padding:20px;min-height:100vh;display:flex;justify-content:center;align-items:center}form.container{position:relative;width:100%;max-width:540px;background:rgba(255,255,255,.05);border-radius:20px;padding:28px;backdrop-filter:blur(12px);box-shadow:0 10px 40px rgba(0,0,0,.6);border:1px solid rgba(255,255,255,.08);text-align:left}.logo{display:block;margin:0 auto 12px auto;width:66px;height:66px}h1{text-align:center;font-size:1.6rem;color:#facc15;margin-bottom:4px}h2{text-align:center;font-size:.95rem;color:#cbd5e1;margin-bottom:14px}label{display:block;font-weight:600;margin-bottom:6px;margin-top:12px;font-size:.95rem}.row{display:flex;gap:10px;align-items:center}input,select{width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:#fff;font-size:.96rem;outline:0;transition:all .18s ease;box-sizing:border-box}input:focus,select:focus{border-color:#facc15;box-shadow:0 3px 12px rgba(250,204,21,.12)}.small{width:130px}.inline{display:flex;gap:8px}.hint{font-size:.85rem;color:#ffd;margin-top:6px}.error{font-size:.85rem;color:#ff7b7b;margin-top:6px;white-space:pre-line}button#submitBtn{display:block;width:100%;padding:12px;margin-top:18px;background:linear-gradient(90deg,#facc15,#f59e0b);border:none;border-radius:12px;cursor:pointer;font-size:1rem;font-weight:700;color:#111}button#submitBtn:disabled{opacity:.6;cursor:not-allowed;transform:none}#loading{display:none;text-align:center;margin-top:8px;font-style:italic;color:#cbd5e1}.lang-switch{position:absolute;top:12px;right:12px;background:#facc15;color:#000;border:none;padding:6px 12px;border-radius:20px;cursor:pointer;font-weight:700;font-size:.85rem;display:flex;align-items:center;gap:6px}.lang-switch:hover{transform:scale(1.02)}#resultModal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.7);justify-content:center;align-items:center;z-index:999}.modal-content{background:#fff;color:#000;padding:20px;border-radius:14px;width:92%;max-width:420px;text-align:center}.close-btn{position:absolute;top:8px;right:8px;background:#ef4444;color:#fff;border:none;border-radius:50%;width:34px;height:34px;cursor:pointer;font-weight:700}.close-btn:hover{background:#dc2626}@media (max-width:520px){form.container{padding:18px}.small{width:110px}}input,select{width:100%;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.08);color:#fff;font-size:.95rem;outline:0;transition:all .2s ease;box-sizing:border-box}input:focus,select:focus{border-color:#facc15;background:rgba(255,255,255,.12);box-shadow:0 0 0 3px rgba(250,204,21,.25)}label{font-weight:600;margin-bottom:6px;display:block;font-size:.92rem;color:#fefefe}.doc-row{display:flex;gap:12px;margin-top:14px}.doc-row>div{flex:1;display:flex;flex-direction:column}#idHint{font-size:.8rem;color:#e0e0a0;margin-top:4px}#idError{font-size:.8rem;color:#ff6b6b;margin-top:4px}</style><script src=https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js></script><form class=container id=registerForm novalidate><button type=button class=lang-switch id=langToggleBtn onclick=toggleLang()><span id=langFlag>üáπüá≠</span><span id=langText>TH</span></button><img src=https://cdn-icons-png.flaticon.com/512/1041/1041883.png class=logo alt=Logo><h1 id=formTitle>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ß‡∏¥‡πà‡∏á</h1><h2 id=formSubtitle>4LAPTOP100</h2><label id=labelFirstName>‡∏ä‡∏∑‡πà‡∏≠</label><input id=firstName required><label id=labelLastName>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label><input id=lastName required><div class=doc-row><div><label id=labelIdType>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</label><select id=idType><option value=auto>Auto-detect<option value=thaiid>‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô<option value=passport>Passport</select></div><div><label id=labelNationalId>‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô / Passport</label><input id=nationalId autocomplete=off inputmode=text><div id=idHint class=hint></div><div id=idError class=error style=display:none></div></div></div><label id=labelPhone>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå</label><input type=tel id=phone maxlength=10 required><label id=labelEmail>Email</label><input type=email id=email required><label id=labelAge>‡∏≠‡∏≤‡∏¢‡∏∏</label><input type=number id=age min=1 max=99 required><label id=labelShirtSize>‡πÑ‡∏ã‡∏™‡πå‡πÄ‡∏™‡∏∑‡πâ‡∏≠ / Shirt Size</label><select id=shirtSize required><option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ã‡∏™‡πå‡πÄ‡∏™‡∏∑‡πâ‡∏≠ --<option value=XS>XS 34"<option value=S>S 36"<option value=M>M 38"<option value=L>L 40"<option value=XL>XL 42"<option value=2XL>2XL 44"<option value=3XL>3XL 46"<option value=4XL>4XL 48"</select><label id=labelCategory>‡∏£‡∏∏‡πà‡∏ô‡∏≠‡∏≤‡∏¢‡∏∏/‡πÄ‡∏û‡∏®</label><select id=category required><option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô --</select><label id=labelSlip>‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</label><input type=file id=slip accept=image/* required><button type=submit id=submitBtn>‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</button><div id=loading>‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...</div></form><div id=resultModal><div class=modal-content><button class=close-btn onclick=closeModal()>√ó</button><h2 id=modalTitle>‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‚úÖ</h2><p id=resultText style=white-space:pre-line;text-align:left></p><img id=slipPreview src=""alt=slip style=max-width:220px;border-radius:8px;margin-top:8px><div style=margin-top:12px><button onclick=closeModal() style="background:#3b82f6;color:#fff;padding:8px 14px;border-radius:8px;border:none">‡∏õ‡∏¥‡∏î</button></div></div></div><script>const _0x1f841f=_0x3f5f;!function(e,t){const n=_0x3f5f,a=_0x32fc();for(;;)try{if(524973===parseInt(n(277))/1*(parseInt(n(205))/2)+parseInt(n(160))/3*(parseInt(n(243))/4)+parseInt(n(189))/5*(parseInt(n(270))/6)+parseInt(n(152))/7+-parseInt(n(181))/8+-parseInt(n(155))/9*(-parseInt(n(275))/10)+-parseInt(n(257))/11)break;a.push(a.shift())}catch(e){a.push(a.shift())}}();const SUPABASE_URL=_0x1f841f(222),SUPABASE_ANON_KEY=_0x1f841f(166),supabaseClient=supabase.createClient(SUPABASE_URL,SUPABASE_ANON_KEY);function _0x32fc(){const e=["105652tZGlqQ","preventDefault","idType","shiftKey","getElementById","Thai ID: 13 digits","labelSlip","‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô","uploadError:","ctrlKey","‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô: ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 13 ‡∏´‡∏•‡∏±‡∏Å","trim","upload","contextmenu","3498390hfEuFp","firstName","national_id","7038XDJcze","Email","resultText","Last Name","‚ùå Please enter a valid 13-digit Thai national ID","477LFsZSp","langFlag","This National ID / Passport is already registered ‚ùå","Please fill all required fields","select","langText","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhqZGp1cmRmbG93aXdkeGdrdmZyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzMDk5OTEsImV4cCI6MjA2OTg4NTk5MX0.QtWt1IrY1UYKmj0spL3T8CkaQh9wq2P-_4b6eWB3ics","option","üá¨üáß","value","Registration Completed Successfully! ‚úÖ","‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå","labelIdType","saveError","4LAPTOP100","formTitle","labelAge","textContent","slip","Category (Age / Gender)","innerText","563944SeinnF","‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô 13 ‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á","‚ùå ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á","idErrorGeneric","idHintThai","2px solid #ff7b7b","block","input","11465lCIydP","DOMContentLoaded","‡∏ä‡∏∑‡πà‡∏≠","disabled","idErrorThai","‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚ùå","labelCategory","auto","slip_","National ID / Passport","‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£","name_en","thaiid","üáπüá≠","submitBtn","categories","2oiFfTX","idHintPassport","length","files","labelLastName","labelEmail","replace","labelPhone","email","labelFirstName","src","‡∏£‡∏∏‡πà‡∏ô‡∏≠‡∏≤‡∏¢‡∏∏/‡πÄ‡∏û‡∏®","‚ùå Please enter a valid passport number (6‚Äì15 alphanumeric)","is_open","from","fillFields","pending","https://xjdjurdflowiwdxgkvfr.supabase.co","modalTitle","key","idErrorPassport","forEach","‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‚úÖ","passport","shirtSize","border","insert","idHint","F12","Age","bangwad","idError","Running Registration","‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ß‡∏¥‡πà‡∏á","addEventListener","‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô","\nEmail: ","age","5724IGbdps","Phone Number","resultModal","name_th","‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£/Passport ‡∏ô‡∏µ‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‚ùå","name","style","labelNationalId","test","now","Upload slip failed ‚ùå","charAt","display"," / ","14248256bJgCpI","formSubtitle","registerForm","Save failed ‚ùå","Document Type","flex","Register","Passport: 6‚Äì15 alphanumeric (must include a letter)","loading","uploadError","labelShirtSize","duplicateMsg","category","1266LsELow","slips","none","storage","‡πÑ‡∏ã‡∏™‡πå‡πÄ‡∏™‡∏∑‡πâ‡∏≠","7340crKuKE","error"];return(_0x32fc=function(){return e})()}let categoriesData=[],currentLang="TH";function isValidThaiId(e){const t=_0x1f841f;if(!/^\d{13}$/.test(e))return!1;let n=0;for(let t=0;t<12;t++)n+=parseInt(e.charAt(t),10)*(13-t);return(11-n%11)%10===parseInt(e[t(254)](12),10)}function isPassportFormat(e){const t=_0x1f841f;return!/^\d{13}$/.test(e)&&/^[A-Za-z0-9]{6,15}$/[t(251)](e)}function _0x3f5f(e,t){const n=_0x32fc();return(_0x3f5f=function(e,t){return n[e-=143]})(e,t)}function detectIdTypeByValue(e){const t=_0x1f841f;return isValidThaiId(e)?t(201):isPassportFormat(e)?t(228):null}const TEXT={TH:{formTitle:_0x1f841f(238),formSubtitle:_0x1f841f(174),labelFirstName:_0x1f841f(191),labelLastName:"‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•",labelIdType:_0x1f841f(199),labelNationalId:"‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô / Passport",idHintThai:_0x1f841f(148),idHintPassport:"Passport: ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£/‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 6‚Äì15 ‡∏ï‡∏±‡∏ß (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏ï‡∏±‡∏ß)",idErrorThai:_0x1f841f(182),idErrorPassport:"‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç Passport ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (6‚Äì15 ‡∏ï‡∏±‡∏ß ‡∏≠‡∏±‡∏Å‡∏©‡∏£/‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç)",idErrorGeneric:_0x1f841f(183),labelPhone:_0x1f841f(171),labelEmail:_0x1f841f(156),labelAge:"‡∏≠‡∏≤‡∏¢‡∏∏",labelShirtSize:_0x1f841f(274),labelCategory:_0x1f841f(216),labelSlip:"‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ‡πÇ‡∏≠‡∏ô‡πÄ‡∏á‡∏¥‡∏ô",submitBtn:_0x1f841f(145),modalTitle:_0x1f841f(227),duplicateMsg:_0x1f841f(247),uploadError:"‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏•‡∏¥‡∏õ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚ùå",saveError:_0x1f841f(194),fillFields:_0x1f841f(240)},EN:{formTitle:_0x1f841f(237),formSubtitle:_0x1f841f(174),labelFirstName:"First Name",labelLastName:_0x1f841f(158),labelIdType:_0x1f841f(261),labelNationalId:_0x1f841f(198),idHintThai:_0x1f841f(143),idHintPassport:_0x1f841f(264),idErrorThai:_0x1f841f(159),idErrorPassport:_0x1f841f(217),idErrorGeneric:"‚ùå Invalid format",labelPhone:_0x1f841f(244),labelEmail:_0x1f841f(156),labelAge:_0x1f841f(234),labelShirtSize:"Shirt Size",labelCategory:_0x1f841f(179),labelSlip:"Upload Payment Slip",submitBtn:_0x1f841f(263),modalTitle:_0x1f841f(170),duplicateMsg:_0x1f841f(162),uploadError:_0x1f841f(253),saveError:_0x1f841f(260),fillFields:_0x1f841f(163)}};function applyLanguageUI(){const e=_0x1f841f,t=TEXT[currentLang];document[e(281)](e(175))[e(180)]=t[e(175)],document[e(281)](e(258)).innerText=t[e(258)],document[e(281)](e(214))[e(180)]=t.labelFirstName,document.getElementById("labelLastName")[e(180)]=t[e(209)],document[e(281)]("labelIdType").innerText=t[e(172)],document.getElementById(e(250))[e(180)]=t.labelNationalId,document[e(281)](e(212))[e(180)]=t.labelPhone,document[e(281)](e(210))[e(180)]=t[e(210)],document.getElementById(e(176)).innerText=t[e(176)],document[e(281)](e(267))[e(180)]=t[e(267)],document[e(281)]("labelCategory")[e(180)]=t.labelCategory,document[e(281)](e(144))[e(180)]=t[e(144)],document.getElementById("submitBtn")[e(180)]=t.submitBtn,document[e(281)](e(223)).innerText=t[e(223)],document.getElementById(e(165))[e(180)]=currentLang,document[e(281)](e(161))[e(180)]=e("TH"===currentLang?202:168),renderCategories(),updateIdHint()}function toggleLang(){currentLang="TH"===currentLang?"EN":"TH",applyLanguageUI()}async function loadCategories(){const e=_0x1f841f;try{const{data:t,error:n}=await supabaseClient[e(219)](e(204))[e(164)]("*").eq(e(218),!0).order("id",{ascending:!0});!n&&t&&(categoriesData=t,renderCategories())}catch(t){console[e(276)]("loadCategories:",t)}}function renderCategories(){const e=_0x1f841f,t=document.getElementById(e(269)),n=TEXT[currentLang];t.innerHTML='<option value="">-- '+n[e(195)]+" --</option>",categoriesData[e(226)]((n=>{const a=e,r=document.createElement(a(167));r[a(169)]=n[a(169)]||n.id,r[a(177)]="TH"===currentLang?n.name_th||n[a(200)]:n[a(200)]||n[a(246)],t.appendChild(r)}))}const idTypeSelect=document[_0x1f841f(281)](_0x1f841f(279)),nationalIdInput=document[_0x1f841f(281)]("nationalId"),idHintElem=document[_0x1f841f(281)](_0x1f841f(232)),idErrorElem=document.getElementById(_0x1f841f(236)),submitBtn=document.getElementById(_0x1f841f(203)),loadingElem=document.getElementById(_0x1f841f(265));function updateIdHint(){const e=_0x1f841f,t=TEXT[currentLang],n=idTypeSelect.value;n===e(201)?idHintElem[e(180)]=t[e(185)]:n===e(228)?idHintElem[e(180)]=t.idHintPassport:idHintElem[e(180)]=t[e(185)]+e(256)+t[e(206)]}function showIdError(e){const t=_0x1f841f;idErrorElem[t(249)].display=t(187),idErrorElem.innerText=e,nationalIdInput.style[t(230)]=t(186),submitBtn[t(192)]=!0}function clearIdError(){const e=_0x1f841f;idErrorElem.style[e(255)]="none",idErrorElem[e(180)]="",nationalIdInput[e(249)][e(230)]="",submitBtn[e(192)]=!1}function closeModal(){const e=_0x1f841f;document[e(281)](e(245))[e(249)][e(255)]=e(272)}nationalIdInput.addEventListener(_0x1f841f(188),(()=>{const e=_0x1f841f,t=nationalIdInput[e(169)].trim(),n=idTypeSelect[e(169)],a=TEXT[currentLang];if(""===t)return clearIdError(),void updateIdHint();if(n===e(196)){const n=detectIdTypeByValue(t);n===e(201)?(clearIdError(),idHintElem[e(180)]=a[e(185)]):n===e(228)?(clearIdError(),idHintElem[e(180)]=a.idHintPassport):showIdError(a[e(184)])}else"thaiid"===n?isValidThaiId(t)?clearIdError():showIdError(a[e(193)]):n===e(228)&&(isPassportFormat(t)?clearIdError():showIdError(a[e(225)]))})),idTypeSelect[_0x1f841f(239)]("change",(()=>{const e=_0x1f841f;updateIdHint();const t=new Event(e(188));nationalIdInput.dispatchEvent(t)})),nationalIdInput[_0x1f841f(239)]("blur",(()=>{const e=_0x1f841f;if(idTypeSelect[e(169)]===e(196)){detectIdTypeByValue(nationalIdInput[e(169)][e(149)]())}})),document[_0x1f841f(281)](_0x1f841f(259))[_0x1f841f(239)]("submit",(async e=>{const t=_0x1f841f;e[t(278)]();const n=document[t(281)](t(153))[t(169)][t(149)](),a=document.getElementById("lastName")[t(169)][t(149)](),r=nationalIdInput[t(169)][t(149)](),i=document[t(281)]("phone")[t(169)].trim(),l=document[t(281)](t(213)).value[t(149)](),o=document[t(281)](t(242)).value.trim(),s=document[t(281)](t(229))[t(169)],d=document[t(281)](t(269))[t(169)],f=document.getElementById(t(178))[t(208)][0],c=TEXT[currentLang];if(!(n&&a&&r&&i&&l&&o&&s&&d&&f))return void alert(c[t(220)]);const u=idTypeSelect.value;let m=!1;if(u===t(196)?(isValidThaiId(r)||isPassportFormat(r))&&(m=!0):u===t(201)?isValidThaiId(r)&&(m=!0):"passport"===u&&isPassportFormat(r)&&(m=!0),m){submitBtn[t(192)]=!0,loadingElem.style[t(255)]=t(187);try{const{data:e,error:u}=await supabaseClient[t(219)]("bangwad").select(t(154)).eq("national_id",r);if(u&&console.error("duplicate check error:",u),e&&e[t(207)]>0)return alert(c[t(268)]),submitBtn[t(192)]=!1,void(loadingElem[t(249)][t(255)]="none");const m=t(197)+Date[t(252)]()+"_"+(f[t(248)]||"")[t(211)](/\s+/g,"_"),{error:p}=await supabaseClient[t(273)][t(219)](t(271))[t(150)](m,f);if(p)return console[t(276)](t(146),p),alert(c[t(266)]),submitBtn[t(192)]=!1,void(loadingElem[t(249)].display=t(272));const I=SUPABASE_URL+"/storage/v1/object/public/slips/"+encodeURIComponent(m),{error:E}=await supabaseClient[t(219)](t(235))[t(231)]([{first_name:n,last_name:a,national_id:r,phone:i,email:l,age:o,shirt_size:s,category:d,slip_url:I,status:t(221)}]);if(loadingElem[t(249)][t(255)]="none",submitBtn[t(192)]=!1,E)return console[t(276)]("insertError:",E),void alert(c.saveError);document[t(281)](t(157))[t(180)]=TEXT[currentLang][t(214)]+": "+n+" "+a+"\n"+TEXT[currentLang][t(176)]+": "+o+"\n"+TEXT[currentLang][t(267)]+": "+s+"\n"+TEXT[currentLang][t(195)]+": "+d+"\n"+TEXT[currentLang][t(212)]+": "+i+t(241)+l,document[t(281)]("slipPreview")[t(215)]=I,document[t(281)]("resultModal")[t(249)].display=t(262),document[t(281)](t(259)).reset(),updateIdHint()}catch(e){console.error("submit error:",e),alert(TEXT[currentLang][t(173)]),submitBtn.disabled=!1,loadingElem[t(249)][t(255)]=t(272)}}else alert(c[t(184)])})),document[_0x1f841f(239)](_0x1f841f(190),(async()=>{applyLanguageUI(),await loadCategories(),updateIdHint()})),document.addEventListener(_0x1f841f(151),(e=>{})),document[_0x1f841f(239)]("keydown",(e=>{const t=_0x1f841f;(e[t(224)]===t(233)||e[t(147)]&&e[t(280)]&&"I"===e.key||e.ctrlKey&&"u"===e.key)&&e[t(278)]()}))</script>
